<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<title>SIMS</title>
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
	integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
	crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
    integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />

<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
<script
	src="https://cdn.jsdelivr.net/npm/jquery@3.6.1/dist/jquery.slim.min.js"></script>
<script
	src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>

	<div th:replace="fragment ::header"></div>


	<!-- <div class="col-lg-3">


		<form th:action="@{/suppliers/searchSuppliers}"
			th:object="${searchSupplier}" method="POST">
			 <input type="text" name="fieldName"
				th:field="*{fieldName}" class="form-control" placeholder="Select" />
				
				 <input type="text" name="value"
				th:field="*{value}" class="form-control" placeholder="Enter value" />
			<div class="box-footer">
				<button type="submit" class="btn btn-primary">Save</button>
			</div>
		</form>


	</div> -->
	<br>
		<div class="container">
		<h5 class="text-center">
			<b>Search for Suppliers / Products Data </b>
		</h5>

		<br>
		<form th:action="@{/search}" th:object="${searchData}" method="POST">

			<div class="form-row">
				
				<div class="col">
					<select required="required" autofocus="autofocus" name="fieldName"
						th:field="*{fieldName}" class="form-control form-control-sm">
						<option value="NONE"  autocapitalize="none" autofocus="autofocus">Search With </option>
						<option value="SupplierId">Supplier Id</option>
						<option value="SupplierName">Supplier Name</option>
						<option value="ProductNumber">Product Number</option>
						<option value="ProductName">Product Name</option>
						<option value="GGCode">GG Code</option>
					</select>
				</div>

				<div class="col">
					<input type="text" required="required" name="value"
						th:field="*{value}" class="form-control form-control-sm"
						placeholder="Enter Value" />
				</div>

				<div class="box-footer">
					<button type="submit" class="btn btn-primary">Search</button>
				</div>

			</div>
		</form>

	</div>
	<br><br>
	<h5 class="text-center">
			<b>Search Results </b>
		</h5>
	
	<div th:if="${suppliersList!= null}">
		<table class="table table-bordered table-condensed table-hover">
			<thead class="table-dark">
				<tr>
					<th>S.No</th>
					<th>Suplr.No</th>
					<th>Suplr.Name</th>
					<th>Category</th>
					<th>Email</th>
					<th>Mobile</th>
					<th>Reg Fee</th>
					<th>Balance Amount</th>
					<!-- <th>Created On</th>
					<th>Updated On</th> -->
					<th>Actions</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="supplier: ${suppliersList}" th:if="${suppliersList!= null}">
				
					<td scope="row" th:text="${supplierStat.index+1}"></td>
					<td scope="row" th:text="${supplier.id}"></td>
					<td th:text="${supplier.supplierName}"></td>
					<td th:text="${supplier.supplierCategory}"></td>
					<td th:text="${supplier.supplierEmailId}"></td>
					<td th:text="${supplier.supplierContactNo}"></td>
					<td th:text="${supplier.registrationFee}"></td>
					<td th:text="${supplier.balanceAmountWithVendor}"></td>

					<!-- class="btn btn-primary" -->
					<!-- <td th:text="${supplier.createdDate}"></td>
					<td th:text="${supplier.updatedDate}"></td> -->
					<td><a th:href="@{/supplier/edit/{id}(id=${supplier.id})}"
						class="fa-regular fa-pen-to-square icon-dark"></a> &nbsp; &nbsp;&nbsp;
						 <a
						class="fa-regular fa-trash-can icon-dark btn-delete"
						th:href="@{/supplier/delete/{id}(id=${supplier.id})}"></a>  &nbsp; &nbsp;&nbsp;
						 <a
						th:href="@{/supplier/{id}/orders(id=${supplier.id})}"
						class="btn btn-warning">Orders</a></td>
				</tr>
			</tbody>
		</table>
	</div>
	
	<!-- <div th:if="${ordersList!= null}">
	<table class="table table-striped table-bordered">
			<thead class="table-dark">
				<tr>
					<th>S.No</th>
					<th>Order Id</th>
					<th>Splr.Id</th>
					<th>Splr.Name</th>

					<th>P.No.</th>
					<th>P.Name</th>
					<th>GGCode</th>
					<th>Product</th>

					<th>Qty.</th>
					<th>Multiplier</th>
					<th>Price</th>
					<th>Total Cost</th>
					<th>Receipt</th>
					<th>Actions</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="order: ${ordersList}" th:if="${ordersList!= null}">
					<td scope="row" th:text="${orderStat.index+1}"></td>
					<td th:text="${order.id}"></td>
					<td th:text="${order.supplierId}"></td>
					<td th:text="${order.supplierName}"></td>

					<td th:text="${order.productNumber}"></td>
					<td th:text="${order.productName}"></td>
					<td th:text="${order.GGCode}"></td>
					
					<td><img alt="Product Image" class="img-thumbnail"
						th:src="@{'data:image/*;base64,' + ${order.poImageBase64} }"
						width="80px" height="60px" /></td>

					<td th:text="${order.quantity}"></td>
					<td th:text="${order.price}"></td>
					<td th:text="${order.multiplier}"></td>
					<td th:text="${order.totalCost}"></td>
					
					<td><img alt=" Order Receipt" class="img-thumbnail"
						th:src="@{'data:image/*;base64,' + ${order.orderReceiptImageBase64}}"
						width="80px" height="60px" /></td>

					<td><a th:href="@{/order/edit/{id}(id=${order.id})}"
						class="fa-regular fa-pen-to-square icon-dark"> </a> &nbsp;&nbsp;
						&nbsp;
						
						 <a th:href="@{/order/{id}(id=${order.id})}"
						class="fa-regular fa-trash-can icon-dark btn-delete"></a>
						&nbsp;&nbsp; 
						
						<a th:href="@{/order/createOrderAgain{id}(id=${order.id})}"
						class="btn btn-danger">Order Again</a></td>
				</tr>
			</tbody>
		</table>
		</div> -->

	<div th:replace="fragment ::footer"></div>
</body>
</html>