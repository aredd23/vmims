<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<title>SIMS</title>
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
	integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
	crossorigin="anonymous">

<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
	integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A=="
	crossorigin="anonymous" referrerpolicy="no-referrer" />

<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</head>
<body>
	<div th:replace="fragment ::header"></div>


	<div class="container">
		<br>

		<h4 align="center">
			<font color="blue"> Products - List </font>
		</h4>

		<div class="row">
			<div class="col-lg-3">
				 <a th:href="@{/product/new/{orderId}(orderId=${orderId})}"
					class="btn btn-primary btn-sm mb-3">Add Products</a> 

				<!-- 				 <a
					th:href="@{/supplier/searchOrders}"
					class="btn btn-primary btn-sm mb-3">Search Orders</a> -->
			</div>
		</div>
		<table class="table table-striped table-bordered">
			<thead class="table-dark">
				<tr>
					<th>S.No</th>
					<th>Order Id</th>
					<th>Product.Id</th>
					<th>Product Name</th>
					<th>Product Category</th>
					<th>Qty.</th>
					<th>Price</th>
					<th>Product</th>
					<th>Actions</th>
				</tr>
			</thead>

			<tbody>
				<tr th:each="product: ${productsList}">
					<td scope="row" th:text="${roductStat.index+1}"></td>
					<td th:text="${product.orderIdId}"></td>
					<td th:text="${product.id}"></td>
					<td th:text="${product.ProductName}" style="white-space: nowrap;"></td>
					<td th:text="${product.productCategory}" style="white-space: nowrap;"></td>
					<td th:text="${product.quantity}"></td>
					<td th:text="${product.price}"></td>


					<td><img alt="Product Image" class="img-thumbnail"
						th:src="@{'data:image/*;base64,' + ${order.poImageBase64} }"
						width="80px" height="60px" />
						<a th:href="@{/order/product/image/download/{id}(id=${order.id})}">Download</a>
						</td>

			
							
					<td style="white-space: nowrap;"><a th:href="@{/order/edit/{id}(id=${order.id})}" title="View/Edit"
						class="fa-regular fa-pen-to-square icon-dark"> </a> &nbsp;&nbsp;
						&nbsp;
						
						 <a th:href="@{/order/delete/{id}(id=${order.id})}" title="Delete"
						class="fa-regular fa-trash-can icon-dark btn-delete"></a>
						&nbsp;&nbsp;
<!-- 						
						<a th:href="@{/order/quickView/{id}(id=${order.id})}" title="Quick View"
						class="btn btn-default btn-sm"> <span
							class="glyphicon glyphicon-eye-open"></span></a> -->
							
						 <!--  <a th:href="@{/order/createOrderAgain{id}(id=${order.id})}"
						class="btn btn-danger">Order Again</a></td> --></td>

				</tr>
			</tbody>

		</table>
		<br>

		<div th:if="${totalPages > 1}"></div>
		<div class="row col-sm-10">
			<div class="col-sm-1 page-item">
				<div class="col-sm-1 page-item">
					<a th:if="${currentPage==1}">Previous</a> &nbsp;&nbsp; <a
						th:if="${currentPage!=1}"
						th:href="@{'/order/page/'+${currentPage - 1}}">Previous</a>

				</div>


			</div>

			<div class="col-sm-1">
				<span class="page-item"
					th:each="i: ${#numbers.sequence(1,totalPages)}"> <a
					th:if="${currentPage!=i}" th:href="@{'/order/page/'+${i}}">[[${i}]]</a>
					<span th:unless="${currentPage!=i}">[[${i}]]</span>
				</span>

			</div>
			<div class="col-sm-1 page-item">
				<a th:if="${currentPage < totalPages}"
					th:href="@{'/order/page/'+${currentPage + 1}}">Next</a> <span
					class="page-item" th:unless="${currentPage < totalPages}">Next</span>
			</div>
			<div class="col-sm-1">
				<a th:if="${currentPage < totalPages}"
					th:href="@{'/order/page/'+${totalPages}}">Last</a> <span
					class="page-item" th:unless="${currentPage < totalPages}">Last</span>
			</div>
		</div>
	</div>
	<div th:replace="fragment ::footer"></div>
</body>
</html>